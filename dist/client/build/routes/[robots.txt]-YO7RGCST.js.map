{
  "version": 3,
  "sources": ["../../../../app/routes/[robots.txt].jsx"],
  "sourcesContent": ["import {useRouteError, isRouteErrorResponse} from '@remix-run/react';\nimport {parseGid} from '@shopify/hydrogen';\n\n/**\n * @param {LoaderFunctionArgs}\n */\nexport async function loader({request, context}) {\n  const url = new URL(request.url);\n\n  const {shop} = await context.storefront.query(ROBOTS_QUERY);\n\n  const shopId = parseGid(shop.id).id;\n  const body = robotsTxtData({url: url.origin, shopId});\n\n  return new Response(body, {\n    status: 200,\n    headers: {\n      'Content-Type': 'text/plain',\n\n      'Cache-Control': `max-age=${60 * 60 * 24}`,\n    },\n  });\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <div>\n        <h1>Oops</h1>\n        <p>Status: {error.status}</p>\n        <p>{error.data.message}</p>\n      </div>\n    );\n  }\n\n  let errorMessage = 'Unknown error';\n  if (error instanceof Error) {\n    errorMessage = error.message;\n  }\n\n  return (\n    <div>\n      <h1>Uh oh ...</h1>\n      <p>Something went wrong.</p>\n      <pre>{errorMessage}</pre>\n    </div>\n  );\n}\n\n/**\n * @param {{shopId?: string; url?: string}}\n */\nfunction robotsTxtData({url, shopId}) {\n  const sitemapUrl = url ? `${url}/sitemap.xml` : undefined;\n\n  return `\nUser-agent: *\n${generalDisallowRules({sitemapUrl, shopId})}\n\n# Google adsbot ignores robots.txt unless specifically named!\nUser-agent: adsbot-google\nDisallow: /checkouts/\nDisallow: /checkout\nDisallow: /carts\nDisallow: /orders\n${shopId ? `Disallow: /${shopId}/checkouts` : ''}\n${shopId ? `Disallow: /${shopId}/orders` : ''}\nDisallow: /*?*oseid=*\nDisallow: /*preview_theme_id*\nDisallow: /*preview_script_id*\n\nUser-agent: Nutch\nDisallow: /\n\nUser-agent: AhrefsBot\nCrawl-delay: 10\n${generalDisallowRules({sitemapUrl, shopId})}\n\nUser-agent: AhrefsSiteAudit\nCrawl-delay: 10\n${generalDisallowRules({sitemapUrl, shopId})}\n\nUser-agent: MJ12bot\nCrawl-Delay: 10\n\nUser-agent: Pinterest\nCrawl-delay: 1\n`.trim();\n}\n\n/**\n * This function generates disallow rules that generally follow what Shopify's\n * Online Store has as defaults for their robots.txt\n * @param {{\n *   shopId?: string;\n *   sitemapUrl?: string;\n * }}\n */\nfunction generalDisallowRules({shopId, sitemapUrl}) {\n  return `Disallow: /admin\nDisallow: /cart\nDisallow: /orders\nDisallow: /checkouts/\nDisallow: /checkout\n${shopId ? `Disallow: /${shopId}/checkouts` : ''}\n${shopId ? `Disallow: /${shopId}/orders` : ''}\nDisallow: /carts\nDisallow: /account\nDisallow: /collections/*sort_by*\nDisallow: /*/collections/*sort_by*\nDisallow: /collections/*+*\nDisallow: /collections/*%2B*\nDisallow: /collections/*%2b*\nDisallow: /*/collections/*+*\nDisallow: /*/collections/*%2B*\nDisallow: /*/collections/*%2b*\nDisallow: */collections/*filter*&*filter*\nDisallow: /blogs/*+*\nDisallow: /blogs/*%2B*\nDisallow: /blogs/*%2b*\nDisallow: /*/blogs/*+*\nDisallow: /*/blogs/*%2B*\nDisallow: /*/blogs/*%2b*\nDisallow: /*?*oseid=*\nDisallow: /*preview_theme_id*\nDisallow: /*preview_script_id*\nDisallow: /policies/\nDisallow: /*/*?*ls=*&ls=*\nDisallow: /*/*?*ls%3D*%3Fls%3D*\nDisallow: /*/*?*ls%3d*%3fls%3d*\nDisallow: /search\nAllow: /search/\nDisallow: /search/?*\nDisallow: /apple-app-site-association\nDisallow: /.well-known/shopify/monorail\n${sitemapUrl ? `Sitemap: ${sitemapUrl}` : ''}`;\n}\n\nconst ROBOTS_QUERY = `#graphql\n  query StoreRobots($country: CountryCode, $language: LanguageCode)\n   @inContext(country: $country, language: $language) {\n    shop {\n      id\n    }\n  }\n`;\n\n/** @typedef {import('@shopify/remix-oxygen').LoaderFunctionArgs} LoaderFunctionArgs */\n/** @typedef {import('@shopify/remix-oxygen').SerializeFrom<typeof loader>} LoaderReturnData */\n"],
  "mappings": "0MA8BQ,IAAAA,EAAA,OAND,SAASC,GAAgB,CAC9B,IAAMC,EAAQC,EAAc,EAE5B,GAAIC,EAAqBF,CAAK,EAC5B,SACE,QAAC,OACC,oBAAC,MAAG,gBAAI,KACR,QAAC,KAAE,qBAASA,EAAM,QAAO,KACzB,OAAC,KAAG,SAAAA,EAAM,KAAK,QAAQ,GACzB,EAIJ,IAAIG,EAAe,gBACnB,OAAIH,aAAiB,QACnBG,EAAeH,EAAM,YAIrB,QAAC,OACC,oBAAC,MAAG,qBAAS,KACb,OAAC,KAAE,iCAAqB,KACxB,OAAC,OAAK,SAAAG,EAAa,GACrB,CAEJ",
  "names": ["import_jsx_runtime", "ErrorBoundary", "error", "useRouteError", "isRouteErrorResponse", "errorMessage"]
}
